# スケジューラ拡張機能 メモ

## manifest.json について
- `manifest.json` は JSON 形式のため、ファイル内へコメントを書けません。
- そのため、構成や補足情報はこの README に記載しています。

## 主要構成
- `background.js`
  - サービスワーカー。
  - 対象URL判定、CSS/JS注入、重複注入防止、インストール時アイコン生成を担当。
- `common.js`
  - 画面操作ユーティリティ群。
  - クリック補助、DOM出現待機、ラベル検索などを担当。
- `main.js`
  - 機能本体。
  - グループ表示切替ボタン生成、会議室表示/非表示トグルを担当。
- `main.css`
  - 注入ボタンの見た目を定義。

## 注入順序
`background.js` から次の順で注入します。
1. `main.css`
2. `common.js`
3. `main.js`

`main.js` は `common.js` の関数に依存しているため、この順序が必須です。

## 動作上の注意
- `main.js` は画面ラベル文字列（例: 一斉表示、設定、会議室）で要素を探索しています。
- サイト側で文言変更があると要素取得できず、機能が動かなくなる可能性があります。
- その場合は `main.js` の `LABELS` または探索セレクタの更新が必要です。
